{% extends "base.html" %}
{% load static %}

{% block title %}ロッカーの受け取り方{% endblock %}

{% block content %}

{# 7行目付近から置き換え開始 #}
<section class="text-white py-5 position-relative overflow-hidden" style="background: linear-gradient(135deg, #198754 0%, #20c997 100%); border-radius: 0 0 50px 50px;">
  <div class="container position-relative z-1">
    <div class="row align-items-center">
      
      <div class="col-lg-7 text-center text-lg-start">
        <span class="badge bg-white text-success mb-3 px-3 py-1 rounded-pill shadow-sm">Smart Pick-up</span>
        <h1 class="fw-bold display-4 mb-3">お店が閉まっても、<br>受け取れます。</h1>
        <p class="lead opacity-90 mt-3">
          残業で遅くなっても大丈夫。<br>
          商店街専用の「冷蔵ロッカー」が、あなたの夕食を預かっています。
        </p>
      </div>

      <div class="col-lg-5 text-center mt-4 mt-lg-0">
        <img src="{% static 'img/hero_locker1.png' %}" alt="Dicon専用ロッカー" 
             class="img-fluid animate-float" 
             style="max-height: 380px; filter: drop-shadow(0 20px 30px rgba(0,0,0,0.3));">
      </div>

    </div>
  </div>
</section>

{# CSS：ふわふわ動かすアニメーション（どこか末尾にでも） #}
<style>
.animate-float {
  animation: float-locker 4s ease-in-out infinite;
}
@keyframes float-locker {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-15px); }
}
</style>
{# 置き換え終了 #}

<section class="container py-5">
  <div class="row g-4">
    
    <div class="col-md-4">
      <div class="card h-100 border-0 shadow-sm rounded-4 text-center p-4">
        <div class="mb-3 position-relative d-inline-block">
          <div class="bg-success bg-opacity-10 rounded-circle p-4" style="width: 120px; height: 120px; display:flex; align-items:center; justify-content:center;">
            <i class="fa-solid fa-mobile-screen-button fa-3x text-success"></i>
          </div>
          <span class="position-absolute top-0 start-0 badge bg-warning text-dark rounded-pill fs-5 shadow-sm">1</span>
        </div>
        <h4 class="fw-bold">アプリで注文・相談</h4>
        <p class="text-muted small">
          お仕事の休憩中に、アプリから夕食をオーダー。<br>
          「ロッカー受取」を選んでください。
        </p>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card h-100 border-0 shadow-sm rounded-4 text-center p-4">
        <div class="mb-3 position-relative d-inline-block">
          <div class="bg-success bg-opacity-10 rounded-circle p-4" style="width: 120px; height: 120px; display:flex; align-items:center; justify-content:center;">
            <i class="fa-solid fa-qrcode fa-3x text-success"></i>
          </div>
          <span class="position-absolute top-0 start-0 badge bg-warning text-dark rounded-pill fs-5 shadow-sm">2</span>
        </div>
        <h4 class="fw-bold">QRコードが届く</h4>
        <p class="text-muted small">
          お店が準備を終えると、あなたのスマホに「開錠用QRコード」が届きます。
        </p>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card h-100 border-0 shadow-sm rounded-4 text-center p-4">
        <div class="mb-3 position-relative d-inline-block">
          <div class="bg-success bg-opacity-10 rounded-circle p-4" style="width: 120px; height: 120px; display:flex; align-items:center; justify-content:center;">
            <i class="fa-solid fa-door-open fa-3x text-success"></i>
          </div>
          <span class="position-absolute top-0 start-0 badge bg-warning text-dark rounded-pill fs-5 shadow-sm">3</span>
        </div>
        <h4 class="fw-bold">かざしてガチャッ！</h4>
        <p class="text-muted small">
          商店街の入り口にあるロッカーにQRをかざすだけ。<br>
          扉が開いて、商品を受け取れます。
        </p>
      </div>
    </div>

  </div>
</section>

<section class="bg-light py-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 mb-4 mb-lg-0">
        <h3 class="fw-bold mb-3">ロッカー設置場所</h3>
        <ul class="list-unstyled space-y-3">
          <li class="d-flex align-items-start mb-3">
            <i class="fa-solid fa-location-dot text-danger mt-1 me-3"></i>
            <div>
              <strong>東地区：駅前広場</strong><br>
              <small class="text-muted">駅改札を出てすぐ右。24時間稼働中。</small>
            </div>
          </li>
          <li class="d-flex align-items-start mb-3">
            <i class="fa-solid fa-location-dot text-danger mt-1 me-3"></i>
            <div>
              <strong>西地区：コミュニティセンター前</strong><br>
              <small class="text-muted">駐車場あり。大きなお荷物も安心。</small>
            </div>
          </li>
        </ul>
        <div class="alert alert-warning border-0 rounded-3 d-flex align-items-center">
          <i class="fa-solid fa-triangle-exclamation me-3 fa-lg"></i>
          <small>生鮮食品のため、受け取りは <strong>当日23:00まで</strong> にお願いします。</small>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="bg-white p-4 rounded-4 shadow-sm border position-relative">
          <span class="position-absolute top-0 start-50 translate-middle badge bg-dark px-3">Dicon Locker</span>
          <div class="row g-2 mt-2">
            {% for i in "123456" %}
            <div class="col-4">
              <div class="border rounded-3 bg-light d-flex align-items-center justify-content-center flex-column" style="height: 100px;">
                <small class="text-muted mb-1">{{ forloop.counter }}</small>
                <div class="bg-secondary rounded-1" style="width: 20px; height: 4px;"></div>
              </div>
            </div>
            {% endfor %}
          </div>
          <div class="text-center mt-3">
            <div class="d-inline-flex align-items-center gap-2 border px-3 py-1 rounded bg-light">
                <i class="fa-solid fa-qrcode"></i> <small>Reader</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="text-center py-5">
  <h4 class="fw-bold mb-4">さっそく使ってみませんか？</h4>
  <a href="{% url 'dicon_app:product_list' %}" class="btn btn-success btn-lg rounded-pill px-5 py-3 shadow hover-scale fw-bold">
    <i class="fa-solid fa-cart-shopping me-2"></i>商品を見る
  </a>
</div>

<style>
.space-y-3 > li { margin-bottom: 1rem; }
</style>

<div class="mt-5 text-center">
  <div class="mb-3">
    <a href="javascript:history.back()" class="btn btn-outline-secondary rounded-pill px-4">
      <i class="fa-solid fa-chevron-left me-2"></i>前の画面に戻る
    </a>
  </div>

  <a href="{% url 'dicon_app:home' %}" class="text-muted small text-decoration-none">
    <i class="fa-solid fa-house me-1"></i>トップページへ
  </a>
</div>

{% endblock %}